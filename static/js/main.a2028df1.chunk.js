(window.webpackJsonpbtvn2caro=window.webpackJsonpbtvn2caro||[]).push([[0],{45:function(e,t,n){e.exports=n(65)},55:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);n(46);var r=n(0),a=n.n(r),o=n(17),l=n.n(o),u=n(19),i=n(13),c=n(15),s=n(7),d=(n(55),n(39));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m="Add",f="Remove",h="dfghj",p="resset",g={CHANGE:"Change",SET:"set"},E={ADD:"have winner",REMOVE:" NR"},v="=sfsr",y=" sfgs",b="fdgh",w="dfghjfghfddgh",k=Array(400).fill(null),O=Object(c.c)({squares:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var n=e.slice();return n[t.index]={value:t.turn?"X":"O",dirMark:-1},n;case f:var r=e.slice();return r[t.index]=null,r;case h:var a=t.arr,o=t.isRemove,l=e.slice();return a.forEach((function(e){l[e.index]=o?null:{value:e.turn?"X":"O",dirMark:-1}})),l;case p:return Array(400).fill(null);default:return e}},turn:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=g;switch(t.type){case n.CHANGE:return!e;case n.SET:return t.turn;default:return e}},winnerLine:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{arr:[],dir:-1},t=arguments.length>1?arguments[1]:void 0,n=E;switch(t.type){case n.ADD:return t.arr;case n.REMOVE:return{arr:[],dir:-1};default:return e}},isSorted:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dfg":return!e;default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{arr:[],index:-1},t=arguments.length>1?arguments[1]:void 0,n=e.arr,r=e.index;switch(t.type){case v:var a=n.slice(0,r+1);return a.push({index:t.index,turn:t.turn}),{arr:a,index:r+1};case w:return{arr:n,index:t.index};case b:return{arr:[],index:-1};case y:default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DONE":return!1;case"DOING":return console.log("doinh"),!0;default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGIN":return t.index;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"User_add":return console.log("ad vo ne",t.user,t.token),{user:t.user,token:t.token};case"User_reset":return null;default:return e}}}),x=n(74),N=n(73),S=function(){return a.a.createElement(x.a,{bg:"light",expand:"lg"},a.a.createElement(x.a.Brand,{href:"/home"},"React-Bootstrap"),a.a.createElement(x.a.Toggle,{"aria-controls":"basic-navbar-nav"}),a.a.createElement(x.a.Collapse,{id:"basic-navbar-nav"},a.a.createElement(N.a,{className:"mr-auto"},a.a.createElement(N.a.Link,null,a.a.createElement(u.b,{to:"home"},"Home")),a.a.createElement(N.a.Link,null,a.a.createElement(u.b,{to:"game"},"Board")))))},C=n(67),T=n(68),G=n(44),R=function(e){var t=e.status,n=e.dir,r=e.ok,o=e.value,l=e.onClick;return a.a.createElement("button",{type:"button",className:"square  ".concat(t),onClick:function(){return l()}},function(){if(null===o)return a.a.createElement("img",{src:"./Anh1.png",alt:"dgf"});if("O"===o.value){if(!0===r){var e="./Anh2.".concat(n+1,".png");return a.a.createElement("img",{src:e,alt:"sfg"})}return a.a.createElement("img",{src:"./Anh2.png",alt:"sfg"})}if(!0===r){var t="./Anh3.".concat(n+1,".png");return a.a.createElement("img",{src:t,alt:"sfg"})}return a.a.createElement("img",{src:"./Anh3.png",alt:"sfg"})}())},L=function(e){for(var t=e.onClick,n=e.squares,r=e.turn,o=e.winnerLine,l=[],u=0;u<20;u+=1){for(var i=[],c=function(e){var l=20*u+e;i.push(a.a.createElement(R,{key:e,value:n[l],dir:o.dir,ok:o.arr.includes(l),onClick:function(){t(l,r)}}))},s=0;s<20;s+=1)c(s);l.push(a.a.createElement("div",{key:u,className:"board-row"},i))}return a.a.createElement("div",null,l)},A=n(64),j=function(e){return{type:g.SET,turn:e}},D=function(){return{type:E.REMOVE}},I=Object(s.b)((function(e){return{squares:e.squares,turn:e.turn,winnerLine:e.winnerLine}}),(function(e){return{onClick:function(t,n){return e(function(e,t){return{type:m,index:e,turn:t}}(t,n))}}}))(L),P=function(e){var t=e.isSorted,n=e.turn,r=e.restart,o=e.sorted;return a.a.createElement("div",null,a.a.createElement("h1",null,n?"NEXT TURN :X":"NEXT TURN :O"),a.a.createElement("button",{type:"button",className:"button",onClick:function(){return r()}},"RESTART"),a.a.createElement("button",{type:"button",className:"button",onClick:function(){return o()}},t?"SORTED":"SORT"))},U=function(e){e({type:p}),e(j(!1)),e(D()),e({type:b})},B=Object(s.b)((function(e){return{isSorted:e.isSorted,turn:e.turn}}),(function(e){return{restart:function(){return U(e)},sorted:function(){return e({type:"dfg"})}}}))(P),M=function(e){return a.a.createElement("div",{style:{maxHeight:450,overflow:"auto",paddingBottom:20}},function(){var t=e.history,n=e.onClick,r=e.isSorted,o=r?t.arr.slice():t.arr.slice().reverse(),l=t.index;return o.map((function(e,t){var u="( ".concat(e.index%20," , ").concat(Math.floor(e.index/20)," ) "),i=r?t:o.length-1-t,c=t;return i===l?a.a.createElement("button",{type:"button",disabled:!0,className:"myButton",key:c,onClick:function(){return n(l,i)}},i," TURN ","".concat(e.turn?"X":"O"," ").concat(u)):a.a.createElement("button",{type:"button",className:"myButton",key:c,onClick:function(){return n(l,i)}},i," TURN ","".concat(e.turn?"X":"O","  ").concat(u))}))}())},X=Object(s.b)((function(e){return{history:e.history,turn:e.turn,winnerLine:e.winnerLine,isSorted:e.isSorted}}),(function(e){return{onClick:function(t,n){return e(function(e,t){return{type:y,from:e,to:t}}(t,n))}}}))(M);var J=n(72),_=n(69),q=n(70),F=Object(s.b)((function(e){return{stateLogin:e.login}}),(function(e){return{loginForm:function(t,n,r){return e(function(e,t,n){return function(r){return r({type:"SET_LOGIN",index:1}),A("https://khaicaro.herokuapp.com/user/login",{method:"POST",body:JSON.stringify({username:e,password:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return r({type:"SET_LOGIN",index:0}),e.json()})).then((function(e){var t=JSON.parse(e);console.log(t),1===t.code?(r({type:"User_add",user:t.user,token:t.token}),n.push("/home"),alert("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng")):(n.push("/login"),alert("Th\u1ea5t b\u1ea1i"))})).catch((function(e){}))}}(t,n,r))}}}))((function(e){var t,n,r=e.stateLogin,o=e.loginForm;return a.a.createElement(T.a,{style:{marginTop:150}},a.a.createElement(G.a,{md:"4"}),a.a.createElement(G.a,{md:"4",style:{background:"azure",padding:20,borderRadius:5,boxShadow:"10px 13px 123px -1px rgba(112,106,112,1)"}},a.a.createElement(J.a,{onSubmit:function(r){r.preventDefault(),o(t,n,e.history)},method:"POST",autoComplete:"off"},a.a.createElement("h2",{style:{textAlign:"center"}},"LOGIN"),a.a.createElement(J.a.Group,{controlId:"formGroupEmail"},a.a.createElement(J.a.Label,null,"Email address"),a.a.createElement(J.a.Control,{type:"email",onChange:function(e){return function(e){t=e.target.value}(e)},placeholder:"Enter email"})),a.a.createElement(J.a.Group,{controlId:"formGroupPassword"},a.a.createElement(J.a.Label,null,"Password"),a.a.createElement(J.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return function(e){n=e.target.value}(e)}})),a.a.createElement(_.a,{variant:"primary",type:"submit",style:{float:"right"}},1===r&&a.a.createElement(q.a,{animation:"border"}),"Submitc"))))})),H=Object(s.b)((function(e){return{isFetching:e.isFetching}}),(function(e){return{register:function(t,n,r,a){return e(function(e,t,n,r){return function(a){return a({type:"DOING"}),A("https://khaicaro.herokuapp.com/user/register",{method:"POST",body:JSON.stringify({username:e,password:t,repassword:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e);a({type:"DONE"}),1===t.code?(alert("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng"),r.push("/login")):(alert("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng"),r.push("/reghister"))})).catch((function(e){}))}}(t,n,r,a))}}}))((function(e){var t,n,r,o=e.isFetching,l=e.history;return o&&(t="",n="",r=""),a.a.createElement(T.a,{style:{marginTop:150}},a.a.createElement(G.a,{md:"4"}),a.a.createElement(G.a,{md:"4",style:{background:"gray",padding:20,borderRadius:5}},a.a.createElement(J.a,{onSubmit:function(a){a.preventDefault(),e.register(t,n,r,l)},disabled:o?"disabled":"k"},a.a.createElement("h2",{style:{textAlign:"center"}},"SIGN UP"),a.a.createElement(J.a.Group,{controlId:"formGroupEmail",disabled:o},a.a.createElement(J.a.Label,null,"Email address"),a.a.createElement(J.a.Control,{disabled:o,onChange:function(e){t=e.target.value},type:"email",placeholder:"Enter email",value:t})),a.a.createElement(J.a.Group,{controlId:"formGroupPassword"},a.a.createElement(J.a.Label,null,"Password"),a.a.createElement(J.a.Control,{disabled:o,onChange:function(e){n=e.target.value},type:"password",placeholder:"Password",value:n})),a.a.createElement(J.a.Group,{controlId:"formGroupPassword"},a.a.createElement(J.a.Label,null,"Re- 9Password"),a.a.createElement(J.a.Control,{disabled:o,onChange:function(e){r=e.target.value},type:"password",placeholder:"Password",value:r})),a.a.createElement(_.a,{disabled:o,variant:"primary",type:"submit",style:{float:"right"}},o&&a.a.createElement(q.a,{animation:"border"}),"Submitabc"))))})),V=n(71),W=Object(s.b)((function(e){return console.log(e),{user:e.user}}),(function(e){return{logout2:function(t){return e(function(e){return function(t){return console.log("djng"),A("https://khaicaro.herokuapp.com/user/logout").then((function(e){return t({type:"User_reset"}),e.json()})).then((function(t){1===JSON.parse(t).code&&e.push("/login")})).catch((function(e){}))}}(t))}}}))((function(e){var t=e.Name,n=e.logout2,r=e.history,o=e.user;return console.log(o),a.a.createElement("div",null,o?"":r.push("/login"),a.a.createElement(S,null),a.a.createElement(V.a,{bordered:!0,hover:!0,style:{background:"gray",margin:"0 auto",marginTop:150,width:150}},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{rowSpan:"2"},a.a.createElement("img",{alt:"",src:"avt.png",style:{height:150,width:150}})),a.a.createElement("td",null,"Name: ",t)),a.a.createElement("tr",null,a.a.createElement("td",{style:{textAlign:"center"}},a.a.createElement(_.a,{style:{margin:"0 auto"},onClick:function(){return n(r)}},"LOGOUT"))))))}));function z(e,t,n,r,a){var o=0,l=n[t].value,u=0,i=[],c=function(e,t){return e>=0&&e<r&&t>=0&&t<a},s=function(a){for(var s=t%r,d=Math.floor(t/r),m=t;c(s,d)&&null!=n[m]&&n[m].value===l;)o+=1,i.push(m),s+=e[a][0],m=(d+=e[a][1])*r+s;c(s,d)&&null!=n[m]&&n[m].value!==l&&(u+=1)};return s(0),s(1),(5!==(o-=1)||2!==u)&&(!(o<5)&&i)}var $=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,a=Number(n),o=Number(r),l=[[[-1,-1],[1,1]],[[0,-1],[0,1]],[[1,-1],[-1,1]],[[-1,0],[1,0]]],u=0;u<4;u+=1){var i=z(l[u],t,e,a,o);if(!1!==i)return{arr:i,dir:u}}return!1},K=Object(c.d)(O,Object(c.a)(d.a,(function(e){return function(t){return function(n){if(n.type===m){var r=e.getState(),a=r.squares,o=r.winnerLine;if(null===a[n.index]&&-1===o.dir){e.dispatch({type:g.CHANGE}),a[n.index]={value:n.turn?"X":"O",dirMark:-1};var l=$(a,n.index);!1!==l&&e.dispatch({type:E.ADD,arr:l}),e.dispatch((d=n.index,f=n.turn,{type:v,index:d,turn:f})),t(n)}}else if(n.type===y){var u=n.from,i=n.to,c=e.getState().history,s=u>i?{arr:c.arr.slice(i+1,u+1),isRemove:!0}:{arr:c.arr.slice(u,i+1),isRemove:!1};e.dispatch(function(e,t){return{type:h,arr:e,isRemove:t}}(s.arr,s.isRemove)),e.dispatch(function(e){return{type:w,index:e}}(i)),c=e.getState().history,e.dispatch(j(!c.arr[i].turn)),e.dispatch(D()),t(n)}else t(n);var d,f}}})));console.log(K.getState());var Q=a.a.createElement(u.a,null,a.a.createElement(s.a,{store:K},a.a.createElement(i.d,null,a.a.createElement(i.b,{exact:!0,path:"/Game"},a.a.createElement((function(){return a.a.createElement("div",null,a.a.createElement(S,null),a.a.createElement(C.a,{style:{marginTop:20}},a.a.createElement(T.a,null,a.a.createElement(G.a,{md:"auto"},a.a.createElement(I,null)),a.a.createElement(G.a,{md:"auto",style:{background:"gray"}},a.a.createElement(B,null),a.a.createElement(X,null)))))}),null)),a.a.createElement(i.b,{path:"/login",component:F}),a.a.createElement(i.b,{path:"/home",component:W}),a.a.createElement(i.b,{path:"/"},a.a.createElement(i.a,{to:"/home"})),a.a.createElement(i.b,{path:"/register",component:H}))));l.a.render(Q,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.a2028df1.chunk.js.map